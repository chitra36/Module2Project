<!doctype html>
<html lang="en">

<head>
   

    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Welcome to Simple Library</title>
</head>
<style>
    .Bookbutton{
        width: 420px;
        background-color:#38a9eb;
        margin-top: 50px;
        color: black;
    }
    #table{
        margin-top: 70px;
    }
  
</style>
<body>
   

    <div id="message"></div>


    <div class="container my-3">
        <h1> Library Management System </h1>
        <hr>
        <form id="libraryForm">
            <div class="form-group row">
                <label for="book_Name" class="col-sm-2 col-form-label"  >Book Name</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="book_Name" placeholder="Book Name" style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;; width: 300px;" >
                </div>
            </div>
            <div class="form-group row">
                <label for="issued_to" class="col-sm-2 col-form-label">Issued To</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="issued_to"  style="box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;; width: 300px;">
                </div>
            </div>
            

            <div class="form-group row">
                <div class="col-sm-10">
                    <button type="submit" class="Bookbutton "  > <a href="library.html">  Issued  Book</a></button>
                </div>
            </div>
        </form>

        <div id="table">
            

            <table class="table table-striped">
               
                <tbody id='tableBody'>
                    <thead>
                        <tr>
    
                            <th scope="col">ID</th>
                            <th scope="col">Book Name</th>
                            <th scope="col">Issued To</th>
                           
                            <th scope="col">Issued Date and Time</th>
                            <th scope="col">status</th>
                        </tr>
                    </thead>
                </tbody>
            </table>
        </div>
    </div>

    
    
</body>

</html>
<script>
// Constructor
// function  Printbooks() {
//     let book=[{id:1, book_name:"", issued_to:"", issued_time:"", status:""}]
//     Console.log(books);
// }

// Display Constructor
function Display() {
    let book=[{id:1, book_name:"Percy Jackson", issued_to:"Avi Vashishta", issued_time:"15/02/2023 or 5:09 PM", status:"Not Returned"}];
}

// Add methods to display prototype

Display.prototype.add = function (book) {
    console.log("Adding to UI");

  let  tableBody = document.getElementById('tableBody');
    let uiString = <tr>
                        <th>'{book.id}</th>
                        <th>'{book.book_name}</th>
                        <th>'{book.issued_to}</th>
                        <th>'{book.status}</th>
                    </tr>;
    tableBody.innerHTML += uiString;
}

// Implement the clear function
Display.prototype.clear = function () {
    let libraryForm = document.getElementById('libraryForm');
    libraryForm.reset();
}

// Implement the validate function
Display.prototype.validate = function (book) {
    if (book.book_name.length < 2 || book.issued_to.length < 2) {
        return false
    }
    else {
        return true;
    }
}



// Add submit event listener to libraryForm
let libraryForm = document.getElementById('libraryForm');
libraryForm.addEventListener('submit', libraryFormSubmit);

function libraryFormSubmit(e) {
    console.log('YOu have submitted library form');
    let name = document.getElementById('bookName').value;
    let author = document.getElementById('author').value;
    let type;
    


    let book=[{id:2, book_name:"Wimpy Kid", issued_to:"Jayesh Sadwani", issued_time:"15/02/2023 or 5:20 PM", status:"Not Returned "}];
    console.log(book);

    let display = new Display();

    if (display.validate(book)) {

        display.add(book);
        display.clear();
        display.show('success', 'Your book has been successfully added')
    }
    else {
        // Show error to the user
        display.show('danger', 'Sorry you cannot add this book');
    }

    e.preventDefault();
}
</script>
